---
import PbImage from './PbImage.astro';
const { offre } = Astro.props;

---

<article class="offre" data-favori={offre.favori.toString()}>
  <div
    class=" content-start relative flex flex-col md:flex-row md:space-x-5 space-y-3 md:space-y-0 rounded-xl shadow-lg p-3 max-w-xs md:max-w-3xl  border-white bg-white">
    <div class="w-full md:w-1/3 bg-white grid place-items-center">
      {offre.images && offre.images[0] ? (
        <PbImage record={offre} recordImage={offre.images[0]} width={400} height={300} />
      ) : (
        <div class="w-full h-48 bg-gray-200 rounded-xl flex items-center justify-center">
          <span class="text-gray-400">Pas d'image</span>
        </div>
      )}
    </div>
    <div class="w-full md:w-2/3 bg-white flex flex-col space-y-2 p-3">
      <div class="flex justify-between item-center">
        <p class="text-gray-500 font-medium hidden md:block">{offre.surface ? `${offre.surface}m²` : 'Surface non disponible'}</p>
        <div class="flex items-center gap-2">
          {offre.favori && (
            <div class="">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-pink-500" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd"
                  d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
                  clip-rule="evenodd" />
              </svg>
            </div>
          )}
        </div>
      </div>
      <h3 class="font-black text-gray-800 md:text-3xl text-xl">{offre.nomMaison}</h3>
      <p class="md:text-lg text-gray-500 text-base">{offre.adresse}</p>
      {offre.prix && (
        <p class="text-xl font-black text-gray-800">
          {offre.prix}€
          <span class="font-normal text-gray-600 text-base">/nuit</span>
        </p>
      )}
      <a href={`/offres/${offre.id}`} class="text-blue-500 hover:underline">Voir plus</a>
    </div>
  </div>
</article>